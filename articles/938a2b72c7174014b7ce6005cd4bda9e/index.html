<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    
            <meta name="robots" content="noindex" />
        
    
            <meta name="robots" content="nofollow" />
        
    <meta name="description" content="C#とTypeScriptに関することをメインに書いています。" />

    <title>
        
                    [TS] PixiJSでソフトウェア「Neko」的なものを作ってみた | Programmer&#39;s Note
                
    </title>

    
            <link rel="stylesheet" href="/sitegen-2.1.0/css/sitegen.css" />
        
            <link rel="stylesheet" href="/sitegen-2.1.0/css/sitegen-article.css" />
        

    <script type="module" src="/sitegen-2.1.0/js/initialize.js"></script>

    
    <link rel="icon" type="image/png" href="/images/favicon-32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/favicon-48.png" sizes="48x48" />
    <link rel="icon" type="image/png" href="/images/favicon-64.png" sizes="64x64" />
    <link rel="icon" type="image/png" href="/images/favicon-128.png" sizes="128x128" />
    <link rel="icon" type="image/png" href="/images/favicon-256.png" sizes="256x256" />
    <link rel="apple-touch-icon" href="/images/favicon-256.png" sizes="256x256" />
    <link rel="stylesheet" href="/css/custom-1.0.css" />
</head>
<body>
    <!-- サイトヘッダー -->
    <header id="sdi-header">
        <div id="sdi-header-inner">
            <div id="sdi-site-name"><a href="/">Programmer&#39;s Note</a></div>
            <div id="sdi-menu">
                <div class="sdc-menu-section">
                    
                                            <div>
                                                <a href="/categories/demo/">Demo</a>
                                            </div>
                                        
                                            <div>
                                                <a href="/categories/tech/">Tech</a>
                                            </div>
                                        
                                            <div>
                                                <a href="/categories/scrap/">Scrap</a>
                                            </div>
                                        
                </div>
                <div class="sdc-menu-section">
                    <div>
                        <a href="/tags/">Tags</a>
                    </div>
                    <div>
                        <a href="/search/">Search</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <div id="sdi-container">
        <div id="sdi-container-inner">
            <main>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/styles/base16/nova.min.css" />
<script type="module">
    import hljs from "https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/es/highlight.min.js";
    hljs.highlightAll();
</script>
<script type="module">
    import mermaid from "https://unpkg.com/mermaid@9.1.3/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true, theme: "base" });
</script>

<article id="sdi-entry-article">
    <!-- 記事ヘッダー -->
    <header>
        <!-- 記事タイトル -->
        <h1>[TS] PixiJSでソフトウェア「Neko」的なものを作ってみた</h1>

        <div id="sdi-article-header-annotation">
            <!-- タグ -->
            <div class="sdc-tags">
                <div class="sdc-tag sdc-primary-tag sdc-primary-tag0">
                    <a href="/categories/demo/">Demo</a>
                </div>
                
                                    <div class="sdc-tag">
                                        <a href="/tags/2d/">2D</a>
                                    </div>
                                
                                    <div class="sdc-tag">
                                        <a href="/tags/pixijs/">PixiJS</a>
                                    </div>
                                
                                    <div class="sdc-tag">
                                        <a href="/tags/typescript/">TypeScript</a>
                                    </div>
                                
            </div>

            <!-- 日付 -->
            <time datetime="2019-01-06">2019-01-06</time>
        </div>
    </header>

    <!-- 記事内容 -->
    <div id="sdi-article-body">
<h3>デモ</h3>
<div id="my-demo-pixi-view"></div>
<ul>
<li>マウスカーソルを追いかけます</li>
<li>「読み込み中...」の表示は、（すぐ読み込めた場合でも）わざと表示しています</li>
</ul>
<h3>はじめに</h3>
<p>PixiJSを使うと2Dスプライト描画が簡単にできる（しかもWebGLで処理してくれる）ということで、試してみました。</p>
<ul>
<li>PixiJS
<ul>
<li><a href="http://www.pixijs.com/">http://www.pixijs.com/</a></li>
</ul>
</li>
<li>Neko
<ul>
<li><a href="https://ja.wikipedia.org/wiki/Neko_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)">https://ja.wikipedia.org/wiki/Neko_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)</a></li>
</ul>
</li>
</ul>
<h3>環境構築</h3>
<p>とりあえずTypeScriptを試すために行ったこと。</p>
<ul>
<li>環境
<ul>
<li>Visual Studio 2017</li>
<li>TypeScript 3.1</li>
</ul>
</li>
<li>Node.jsのLTS版（推奨版）をインストール
<ul>
<li><a href="https://nodejs.org/ja/">https://nodejs.org/ja/</a></li>
</ul>
</li>
<li>「ASP.NET Core Web アプリケーション」の空プロジェクトを作成</li>
<li>Startup.csのConfigureメソッド内を以下の2文のみにする
<ul>
<li><code>app.UseDefaultFiles();</code></li>
<li><code>app.UseStaticFiles();</code></li>
</ul>
</li>
<li>プロジェクトルートで以下のnpmコマンド実行
<ul>
<li><code>npm init --yes</code></li>
<li><code>npm install @types/jquery --save-dev</code></li>
<li><code>npm install @types/pixi.js --save-dev</code></li>
</ul>
</li>
<li>jsファイル本体はCDNを使う</li>
<li>wwwrootディレクトリに以下を追加
<ul>
<li>index.html</li>
<li>TypeScriptソースファイル
<ul>
<li>（本当は別途ディレクトリを用意して、gulpとかwebpackとか使った方がいい）</li>
<li>既存のtsファイルを追加した場合、ファイルプロパティでビルドアクションを <code>TypeScriptファイル</code> に変更</li>
</ul>
</li>
</ul>
</li>
<li>プロジェクト設定でTypeScriptのビルド設定を変更
<ul>
<li>ECMAScriptバージョン：<code>ECMAScript 6</code></li>
<li>暗黙的な any 型を許可：<code>オフ</code></li>
<li>Null非許容の設定にする場合、<code>.csproj</code>ファイルに以下を追加
<ul>
<li><code>&lt;TypeScriptStrictNullChecks&gt;True&lt;/TypeScriptStrictNullChecks&gt;</code></li>
</ul>
</li>
</ul>
</li>
<li>参考
<ul>
<li>公式サイトは重いのでGitHubの方を見た方がいい</li>
<li><a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tutorials/ASP.NET%20Core.md">https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tutorials/ASP.NET%20Core.md</a></li>
<li><a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tsconfig.json.md">https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tsconfig.json.md</a></li>
<li><a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options.md">https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options.md</a></li>
</ul>
</li>
</ul>
<h3>ソースコード</h3>
<h4>Neko.ts</h4>
<div id="my-neko-ts-code"></div>
<h4>image-list.json</h4>
<div id="my-image-list-json-code"></div>
<script src="/files/neko-ts/app/bootloader.js?v=39ecd7f7620d4a9f898c081e9d2429a4"></script>
<script>
    $(async () => {
        await NekoDemo.BootLoader.loadAsync();
        await NekoDemo.PixiView.startAsync("#my-demo-pixi-view");

        CrashPagesJS.Common.HljsUtil.createBlock("#my-neko-ts-code", "ts", `/files/neko-ts/source/Neko.ts?v=${NekoDemo.PixiView.Version}`);
        CrashPagesJS.Common.HljsUtil.createBlock("#my-image-list-json-code", "json", `/files/neko-ts/app/images/neko/image-list.json?v=${NekoDemo.PixiView.Version}`);
    });
</script>

    </div>
</article>
            </main>
        </div>
    </div>

    <!-- サイトフッター -->
    <footer id="sdi-footer">
        <div id="sdi-footer-inner">
            
            <!-- プロフィール -->
            <div style="font-size: 115%; line-height: 1.1;">
                <div style="display: flex;">
                    <div style="flex-shrink: 0;">
                        <img src="/images/favicon-128.png" style="margin-right: 20px; border: 2px solid #e4e4e4; border-radius: 50%;" />
                    </div>
                    <div style="padding-top: 5px;">
                        <div style="display: flex; align-items: flex-end; flex-wrap: wrap; column-gap: 8px;">
                            <div style="font-size: 110%;">Yoshiheight</div>
                            <div>/</div>
                            <div style="font-size: 90%;">Programmer</div>
                        </div>
                        <div style="margin: 0.5em 0;">C#とTypeScriptに関することをメインに書いています。</div>
                        <div style="margin-top: 25px; text-decoration: underline;">
                            <a href="https://github.com/yoshiheight">GitHub</a>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; font-size: 98%;">
                Generated by <a style="text-decoration: underline;" href="https://github.com/yoshiheight/Sitegen">Sitegen</a>
            </div>
        </div>
    </footer>
</body>
</html>
